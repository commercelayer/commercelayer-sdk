"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateQueryStringParams=void 0;const debug_1=__importDefault(require("./debug")),debug=(0,debug_1.default)(),isParamsList=r=>r.filters||r.pageNumber||r.pageSize||r.sort,generateQueryStringParams=(r,s)=>{debug("generate query string params: %O, %O",r,s);const e={};return r&&(r.include&&(e.include=r.include.join(",")),r.fields&&(Array.isArray(r.fields)&&(r.fields={[s.type]:r.fields}),Object.entries(r.fields).forEach(([t,i])=>{e[`fields[${t}]`]=i.join(",")})),isParamsList(r)&&(r.sort&&(Array.isArray(r.sort)?e.sort=r.sort.join(","):e.sort=Object.entries(r.sort).map(([t,i])=>`${i==="desc"?"-":""}${t}`).join(",")),r.pageNumber&&(e["page[number]"]=String(r.pageNumber)),r.pageSize&&(e["page[size]"]=String(r.pageSize)),r.filters&&Object.entries(r.filters).forEach(([t,i])=>{e[`filter[q][${t}]`]=String(i)})),debug("query string params: %O",e)),e};exports.generateQueryStringParams=generateQueryStringParams;